<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
    	<title>Suite</title>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <meta name="author" content="hooriza.spam@gmail.com" />
		<style type="text/css">
			
			html, body {
				padding:0; margin:0;
				height:100%;
				color:#000;
				background-color:#fff;
			}
			
			body, button { font-family:나눔고딕, "맑은 고딕", 'Arial'; }
			
			div.list { float:left; width:230px; padding:0 10px; height:100%; background-color:#ccc; overflow:auto; position:relative; }
			div.iframe { margin-left:250px; height:100%; }
			
			iframe { border:0; width:100%; height:100%; }
			
			h1, ul { margin:0; padding:0; }
			h1 { font-size:1.5em; padding-top:10px; }
			
			#list { margin:10px 0; list-style:none; }
			#list li { margin:5px 0; }
			
			#list li a {
				color:#369; text-decoration:none;
				border:2px solid #eee;
				display:block;
				font-family:Verdana;
				font-size:11px; background-color:#eee; padding:2px 5px; border-radius:5px; 
			}
			
			#list li.running a { border:2px solid #666; }
			#list li.passed a { border:2px solid #0a0; color:#080; }
			#list li.failed a { border:2px solid #a00; color:#800; }
			 
			#list a:hover {
				color:#000;
				background-color:#fff;
			}
			
			#form { position:absolute; top:20px; right:10px; font-size:.75em; }
			#form * { vertical-align:middle; }
			
		</style>
    </head>
	<body>
		<div class="list">
			<h1>Suite</h1>
			<div id="form">
				<input type="checkbox" id="cont" checked="checked"><label for="cont">Continuosly</label>
			</div>
			<ul id="list">
				<li><a href="jindo.Accordion.test.html" target="suite_frame">jindo.Accordion.test.html</a></li>
				<li><a href="jindo.AjaxHistory.test.html" target="suite_frame">jindo.AjaxHistory.test.html</a></li>
				<li><a href="jindo.BrowseButton.test.html" target="suite_frame">jindo.BrowseButton.test.html</a></li>
				<li><a href="jindo.Cache.test.html" target="suite_frame">jindo.Cache.test.html</a></li>
				<li><a href="jindo.Calendar.test.html" target="suite_frame">jindo.Calendar.test.html</a></li>
				<li><a href="jindo.Canvas.test.html" target="suite_frame">jindo.Canvas.test.html</a></li>
				<li><a href="jindo.CheckBox.test.html" target="suite_frame">jindo.CheckBox.test.html</a></li>
				<li><a href="jindo.CircularRolling.test.html" target="suite_frame">jindo.CircularRolling.test.html</a></li>
				<li><a href="jindo.Clipboard.test.html" target="suite_frame">jindo.Clipboard.test.html</a></li>
				<li><a href="jindo.Component.test.html" target="suite_frame">jindo.Component.test.html</a></li>
				<li><a href="jindo.DataBridge.test.html" target="suite_frame">jindo.DataBridge.test.html</a></li>
				<li><a href="jindo.DatePicker.test.html" target="suite_frame">jindo.DatePicker.test.html</a></li>
				<li><a href="jindo.DefaultTextValue.test.html" target="suite_frame">jindo.DefaultTextValue.test.html</a></li>
				<li><a href="jindo.Dialog.test.html" target="suite_frame">jindo.Dialog.test.html</a></li>
				<li><a href="jindo.DragArea.test.html" target="suite_frame">jindo.DragArea.test.html</a></li>
				<li><a href="jindo.DropArea.test.html" target="suite_frame">jindo.DropArea.test.html</a></li>
				<li><a href="jindo.DynamicTree.test.html" target="suite_frame">jindo.DynamicTree.test.html</a></li>
				<li><a href="jindo.Effect.test.html" target="suite_frame">jindo.Effect.test.html</a></li>
				<li><a href="jindo.FileUploader.test.html" target="suite_frame">jindo.FileUploader.test.html</a></li>
				<li><a href="jindo.FloatingLayer.test.html" target="suite_frame">jindo.FloatingLayer.test.html</a></li>
				<li><a href="jindo.Foggy.test.html" target="suite_frame">jindo.Foggy.test.html</a></li>
				<li><a href="jindo.Formatter.test.html" target="suite_frame">jindo.Formatter.test.html</a></li>
				<li><a href="jindo.HTMLComponent.test.html" target="suite_frame">jindo.HTMLComponent.test.html</a></li>
				<li><a href="jindo.InlineTextEdit.test.html" target="suite_frame">jindo.InlineTextEdit.test.html</a></li>
				<li><a href="jindo.Keyframe.test.html" target="suite_frame">jindo.Keyframe.test.html</a></li>
				<li><a href="jindo.LayerEffect.test.html" target="suite_frame">jindo.LayerEffect.test.html</a></li>
				<li><a href="jindo.LayerManager.test.html" target="suite_frame">jindo.LayerManager.test.html</a></li>
				<li><a href="jindo.LayerPosition.test.html" target="suite_frame">jindo.LayerPosition.test.html</a></li>
				<li><a href="jindo.LazyLoading.test.html" target="suite_frame">jindo.LazyLoading.test.html</a></li>
				<li><a href="jindo.ModalDialog.test.html" target="suite_frame">jindo.ModalDialog.test.html</a></li>
				<li><a href="jindo.MouseGesture.test.html" target="suite_frame">jindo.MouseGesture.test.html</a></li>
				<li><a href="jindo.MultipleAjaxRequest.test.html" target="suite_frame">jindo.MultipleAjaxRequest.test.html</a></li>
				<li><a href="jindo.NumberFormatter.test.html" target="suite_frame">jindo.NumberFormatter.test.html</a></li>
				<li><a href="jindo.NumericStepper.test.html" target="suite_frame">jindo.NumericStepper.test.html</a></li>
				<li><a href="jindo.Pagination.test.html" target="suite_frame">jindo.Pagination.test.html</a></li>
				<li><a href="jindo.Rolling.test.html" target="suite_frame">jindo.Rolling.test.html</a></li>
				<li><a href="jindo.RollingChart.test.html" target="suite_frame">jindo.RollingChart.test.html</a></li>
				<li><a href="jindo.RolloverArea.test.html" target="suite_frame">jindo.RolloverArea.test.html</a></li>
				<li><a href="jindo.RolloverClick.test.html" target="suite_frame">jindo.RolloverClick.test.html</a></li>
				<li><a href="jindo.ScrollBar.test.html" target="suite_frame">jindo.ScrollBar.test.html</a></li>
				<li><a href="jindo.ScrollBox.test.html" target="suite_frame">jindo.ScrollBox.test.html</a></li>
				<li><a href="jindo.SelectArea.test.html" target="suite_frame">jindo.SelectArea.test.html</a></li>
				<li><a href="jindo.SelectBox.test.html" target="suite_frame">jindo.SelectBox.test.html</a></li>
				<li><a href="jindo.Slider.test.html" target="suite_frame">jindo.Slider.test.html</a></li>
				<li><a href="jindo.StarRating.test.html" target="suite_frame">jindo.StarRating.test.html</a></li>
				<li><a href="jindo.TabControl.test.html" target="suite_frame">jindo.TabControl.test.html</a></li>
				<li><a href="jindo.TextRange.test.html" target="suite_frame">jindo.TextRange.test.html</a></li>
				<li><a href="jindo.Timer.test.html" target="suite_frame">jindo.Timer.test.html</a></li>
				<li><a href="jindo.Transition.test.html" target="suite_frame">jindo.Transition.test.html</a></li>
				<li><a href="jindo.Tree.test.html" target="suite_frame">jindo.Tree.test.html</a></li>
				<li><a href="jindo.UIComponent.test.html" target="suite_frame">jindo.UIComponent.test.html</a></li>
			</ul>
		</div>
		<div class="iframe"><iframe id="iframe" name="suite_frame"></iframe></div>
		<script type="text/javascript">
		
			(function() {
				
				var $ = function(s) { return document.getElementById(s); };
				
				var list = $('list');
				var iframe = $('iframe');
				var cont = $('cont');
				
				var items = list.getElementsByTagName('li');
				var running = -1;	
				
				function setClass(el, className, flag) {
					
					if (flag) {
						el.className += ' ' + className;
						return;	
					}
					
					el.className = el.className.replace(new RegExp('(^|\\s+)' + className + '(\\s+|$)', 'g'), ' ');
					
				}
			
				function onClick(evt) {
					
					evt = evt || window.event;
					
					var anchor = evt.target || evt.srcElement;
					if (anchor.tagName !== 'A') { return true; }
					
					var item = anchor.parentNode;
					var index = 0;
					
					for (var sibling = item.previousSibling; sibling; sibling = sibling.previousSibling) {
						if (sibling.nodeType === 1) { index++; }							
					}
					
					run(index);
					
					return false;
					
				}
				
				$('list').onclick = onClick;
			
				function done(result) {
					
					setClass(items[running], 'failed', result.failed);
					setClass(items[running], 'passed', !result.failed);
					
					var nextIndex = running + 1;
					if (nextIndex >= items.length || !cont.checked) {
						setRunning();
						return;
					}
					
					run(nextIndex);
					
				}
				
				function setRunning(index) {
					
					if (running != -1) {
						setClass(items[running], 'running', false);
						running = -1;
					}

					if (typeof index !== 'undefined') {
						setClass(items[index], 'running', true);
						running = index;
					}
					
				}
				
				function run(index) {
					
					var item = items[index];
					var anchor = item.getElementsByTagName('a')[0];
					
					setRunning(index);
					iframe.src = 'about:blank';

					setClass(items[running], 'failed', false);
					setClass(items[running], 'passed', false);
					
					(function() {
						
						var fp = arguments.callee;
						var src = null;
						
						try { src = iframe.contentWindow.location.href; } catch(e) {}
						
						if (src !== 'about:blank') {
							setTimeout(fp, 0);
							return;
						}

						iframe.src = anchor.href;
						
						(function() {
							
							var fp = arguments.callee;
							var succ = null;
							
							try { succ = 'done' in iframe.contentWindow.QUnit; } catch(e) {}
							
							if (!succ) {
								setTimeout(fp, 0);
								return;
							}
							
							iframe.contentWindow.QUnit.done = done;
							
						})();
						
					})();
				
				}
				
			})();
			
		</script>
	</body>
</html>
